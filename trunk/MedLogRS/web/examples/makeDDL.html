<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
	<head>
		<title>TODO supply a title</title>
		<script src="../scripts/jquery.min.js" type="text/javascript"></script>
		<script src="../scripts/json.js" type="text/javascript"></script>
		<script src="../scripts/utils.js?live=good" type="text/javascript"></script>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
		<form id='myForm' name='myForm'>


			<select id='stateID' name='stateID'>
			</select>


			<textarea id="jsraw" rows="5" cols="40" style="width:300px;height:200px;"></textarea>
		</form>


		<script>
			 $(document).ready(function () {
				 ///
				 var myURLBuilder = new URLBuilder().setRes("d").setFn("add");



				 var theURL = myURLBuilder.build();


				 var selectTagID = "stateID";
				 var stateVOValueField = "stateID";
				 var stateVODisplayField = "stateName";
				 
				 function setDropDownSelectValue( drownDownListID, selectedOption ) {

					 $("#stateID").val(selectedOption); // set value
					 return false;
				 }

				 $.get(theURL)
					 .done(function ( jsonResponseData ) {

						 $("#jsraw").val(JSON.stringify(jsonResponseData));
					 

						 generateLookupList(selectTagID
						 , jsonResponseData
						 , stateVOValueField
						 , stateVODisplayField);


					 }).fail(function ( xhr, error, status ) {//IF AJAX CALL FAILS!
					 $("#jsraw").val("Error" + error + " XHR " + xhr + " status: " + status);
				 });
			 });


		</script>
	</body>
</html>
