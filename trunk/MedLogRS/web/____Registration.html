<!DOCTYPE html>
<html>
	<head>
		<title> Registration </title>
		<script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/json2/20160511/json2.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="rstyle.css"/>
	</head>

	<body>
		<div>
			<div id="header">
				<table style='width:95%'><tr><td style="width:85%">
							<h1> Registration </h1>
							<p> Welcome to MedLog. </p>
							<p> An account is required to use MedLog. </p>
						</td><td style="background-image: url(Logo.png); background-repeat: no-repeat;text-align: left;background-position-x: left;"></td></tr></table>
			</div>

			<div>
				<form method="get" name="RegistrationForm" id="RegistrationForm" autocomplete="on">

					<fieldset>
						<legend>Login Credentials</legend>

						<!-- Username and Password creation required-->
						<label for="username">Create Username:<br></label>
						<input name="userName" type="text" id="userName" placeholder="Create a unique username" required><br>
						<label for="password">Create Password:<br><label>
								<input name="userPassword" type="text" id="userName" placeholder="Create a password" required><br>
								</fieldset>

								<fieldset>
									<legend>User Information</legend>

									<!-- Name Input required-->
									<label for="firstname">First name:<br></label>
									<input name="firstname" type="text" id="firstname" placeholder="Enter your first name" ><br>
									<label for="lastname">Last name:<br></label>


									<input name="lastName" type="text" id="lastname" placeholder="Enter your last name" ><br>

									<!-- Address Input required-->
									<label for="streetaddress">Street Address:<br></label>
									<input name="streetaddress" type="text" id="streetaddress" placeholder="ex. 1801 N. Broad St." ><br>
									<label for="city">City:<br></label>
									<input name="city" type="text" id="city" placeholder="ex. Philadelphia" ><br>
									<label for="state">State:<br></label>

									<select id="stateID" name='stateID'>
										<option selected value='2'>Choose state...</option>
									</select>
									

									<!-- Contact Information optional-->
									<label for="homephone">Home Phone:<br></label>
									<input name="homephone" type="text" id="homephone" placeholder="ex. 2152047000"><br>
									<label for="mobilephone">Mobile Phone:<br></label>
									<input name="mobilephone" type="text" id="mobilephone" placeholder="ex. 2152047000"><br>
									<label for="primaryemail">Primary Email:<br></label>
									<input name="primaryemail" type="text" id="primaryemail" placeholder="ex.youremail@email.com"><br>

									<!-- Additional Information optional-->
									<label for="ssn">SSN:<br></label>
									<input name="ssn" type="text" id="ssn" placeholder="Enter your Social Security number"><br>
									<label for="dateofbirth">Date of Birth:<br></label>
									<input name="dateofbirth" type="text" id="dateofbirth" placeholder="Enter your date of birth"><br>
									<label for="gender">Gender:<br></label>
									<input name="gender" type="radio" id="gender" value="male">Male<br>
									<input name="gender" type="radio" id="gender" value="female">Female<br>
								</fieldset>

								<!-- Submit & reset buttons-->
								<br><button type="submit">Start using MedLog!</button>
								<button type="reset">Clear</button>
								<textarea id="allTheFormStuff" style="height:300px;width:70%" cols="80" rows="5">
						
								</textarea>
								<div id='errorMessage'></div>


								</form>
								</div>
								</div>
								<script>
									 //////////////////////////////////////////////
									 $(document).ready(function () {
										 $("#RegistrationForm").on("submit", function ( event ) {
											 event.preventDefault();
											 var allTheFormInfo = $("#RegistrationForm").serialize();
											 $("#allTheFormStuff").val(allTheFormInfo);


											 var theURL = "./api/?res=p&fn=add&" + allTheFormInfo;
											 // 
											 // MAKE AJAX CALL!!
											 /////////



											 $.post(theURL)
												 .done(function ( data ) {
													 console.log(data);
												 }).fail(function ( xhr, error, status ) {//IF AJAX CALL FAILS!
												 console.log(xhr);
												 console.log(error);
											 });
										 });
									 });

								</script>
								</body>
								</html>